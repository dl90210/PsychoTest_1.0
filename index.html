<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red Flag Radar</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #121212; color: white; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        #quiz-container { background: #1e1e1e; padding: 2rem; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.7); width: 90%; max-width: 400px; text-align: center; border: 1px solid #333; }
        #counter-container { font-weight: bold; font-size: 1.1rem; margin-bottom: 10px; transition: 0.3s; }
        .safe { color: #4CAF50; } .warning { color: #FFC107; } .danger { color: #ff4b2b; text-shadow: 0 0 8px #ff4b2b; }
        #progress-bar { width: 100%; height: 6px; background: #333; border-radius: 3px; margin-bottom: 20px; overflow: hidden; }
        #progress-fill { height: 100%; width: 0%; background: #ff4b2b; transition: 0.3s; }
        .option-btn { display: block; width: 100%; margin: 10px 0; padding: 15px; background: #2a2a2a; color: white; border: 1px solid #444; border-radius: 10px; cursor: pointer; font-size: 1rem; transition: 0.2s; }
        .option-btn:hover { background: #333; border-color: #ff4b2b; }
        #result { display: none; }
        h2 { font-size: 1.4rem; margin-bottom: 20px; }
    </style>
</head>
<body>

<div id="quiz-container">
    <div id="counter-container" class="safe">üö© Flags Detected: <span id="flag-count">0</span></div>
    <div id="progress-bar"><div id="progress-fill"></div></div>

    <div id="quiz-ui">
        <h2 id="question">Loading...</h2>
        <div id="options-bin"></div>
    </div>
    
    <div id="result">
        <h2 id="verdict-title">The Verdict</h2>
        <p id="verdict-text"></p>
        <button class="option-btn" onclick="location.reload()">Restart Quiz</button>
        <button class="option-btn" onclick="shareResults()" style="background: #ff4b2b; border: none; font-weight: bold;">Share Results</button>
    </div>
</div>

<script>
    const questions = [
        { q: "Does he try to make you feel guilty for spending time with friends?", points: 1 },
        { q: "Does he frequently ask for your phone passwords?", points: 1 },
        { q: "Does he blame you for his own mistakes or bad moods?", points: 1 },
        { q: "Does he get angry if you don't text back within 5 minutes?", points: 1 },
        { q: "Has he ever 'accidentally' shown up where you are uninvited?", points: 1 },
        { q: "Does he claim that all of his ex-girlfriends are 'crazy'?", points: 1 },
        { q: "Does he think 'The Joker' is a misunderstood hero?", points: 1 },
        { q: "Does he own more than three different crypto-currency t-shirts?", points: 1 },
        { q: "Does he refuse to eat anything that isn't a 'dino nugget'?", points: 0 },
        { q: "Does he keep a collection of your hair 'for memories'?", points: 1 }
    ];

    let currentIdx = 0; let score = 0;

    function showQuestion() {
        const qObj = questions[currentIdx];
        document.getElementById('question').innerText = qObj.q;
        const bin = document.getElementById('options-bin');
        bin.innerHTML = '';

        // Update Progress Bar
        const progress = ((currentIdx) / questions.length) * 100;
        document.getElementById('progress-fill').style.width = progress + "%";

        ['Yes', 'No'].forEach(text => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = text;
            btn.onclick = () => handleAnswer(text === 'Yes' ? qObj.points : 0);
            bin.appendChild(btn);
        });
    }

    function handleAnswer(p) {
        score += p;
        document.getElementById('flag-count').innerText = score;
        const containerEl = document.getElementById('counter-container');
        if (score >= 5) containerEl.className = 'danger';
        else if (score >= 2) containerEl.className = 'warning';

        currentIdx++;
        if (currentIdx < questions.length) {
            showQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        document.getElementById('quiz-ui').style.display = 'none';
        document.getElementById('progress-bar').style.display = 'none';
        const resDiv = document.getElementById('result');
        resDiv.style.display = 'block';
        
        let msg = `He has ${score} red flags. `;
        if (score >= 7) msg += "Girl, run for your life! üö©üèÉ‚Äç‚ôÄÔ∏è";
        else if (score >= 4) msg += "Proceed with extreme caution. ‚ö†Ô∏è";
        else msg += "He might just be a little weird, but he's mostly safe. ‚úÖ";
        
        document.getElementById('verdict-text').innerText = msg;
    }

    function shareResults() {
        const text = `I checked my boyfriend for red flags... Result: ${document.getElementById('verdict-text').innerText}`;
        if (navigator.share) {
            navigator.share({ title: 'Red Flag Radar', text: text, url: window.location.href });
        } else {
            alert("Share this: " + text);
        }
    }

    showQuestion();
</script>
</body>
</html> 
